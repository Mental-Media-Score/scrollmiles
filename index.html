<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ScrollMeter Feed + Reflexion</title>
<style>
  body {
    margin:0;
    font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
    background:#0f0f13;
    color:#fff;
    overflow-y:scroll;
  }
  #meter {
    position:fixed; top:0; left:0; width:100%;
    background:rgba(0,0,0,0.6);
    padding:8px 12px;
    font-size:0.9rem;
    display:flex;
    justify-content:space-between;
    align-items:center;
    z-index:10;
    backdrop-filter:blur(6px);
  }
  #bar { width:100%; height:6px; background:rgba(255,255,255,0.2);
    border-radius:3px; overflow:hidden; margin-top:6px;}
  #fill { height:100%; width:0%; background:linear-gradient(90deg,#ff007a,#ffea00); transition:width 0.2s;}
  .feed { margin-top:60px; display:flex; flex-direction:column; align-items:center; gap:20px; padding-bottom:200px;}
  .card { width:90%; max-width:500px; background:#1a1a1f; border-radius:20px; overflow:hidden; box-shadow:0 4px 10px rgba(0,0,0,0.4);}
  .card img { width:100%; height:260px; object-fit:cover;}
  .card .content { padding:16px;}
  .card h3 { margin:0 0 8px 0; font-size:1.1rem; color:#ffea00;}
  .card p { font-size:0.95rem; color:#ccc; line-height:1.4;}
  .stats { margin-top:6px; font-size:0.8rem; color:#888;}
  #reflection {
    display:none;
    position:fixed;
    top:0; left:0; width:100%; height:100%;
    background:rgba(0,0,0,0.9);
    color:#fff;
    z-index:20;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    padding:30px;
    text-align:center;
  }
  #reflection h2 {color:#ffea00;}
  #reflection button {
    margin-top:10px;
    background:#ff007a;
    border:none;
    padding:10px 20px;
    color:#fff;
    border-radius:10px;
    font-size:1rem;
    cursor:pointer;
  }
  textarea {width:80%; height:80px; border-radius:10px; padding:10px; border:none; resize:none; margin-top:10px;}
  .feelings button {
    background:rgba(255,255,255,0.1);
    border:none;
    padding:10px 15px;
    border-radius:8px;
    margin:5px;
    color:#fff;
    cursor:pointer;
  }
  .feelings button:hover {background:#ff007a;}
</style>
</head>
<body>

<div id="meter">
  <div>
    Heute gescrollt: <span id="distance">0</span> m |
    Geschwindigkeit: <span id="speed">0</span> px/s
  </div>
</div>
<div id="bar"><div id="fill"></div></div>

<div class="feed" id="feed"></div>

<div id="reflection">
  <h2>üß† Dein Scroll-Tag</h2>
  <p>Du bist heute <b id="finalDistance">0 m</b> durch Inhalte gescrollt.</p>
  <p>Wie f√ºhlst du dich jetzt?</p>
  <div class="feelings">
    <button data-feel="üòä">üòä Leicht</button>
    <button data-feel="üòê">üòê Neutral</button>
    <button data-feel="üòû">üòû Ersch√∂pft</button>
  </div>
  <p>Was ist dir im Ged√§chtnis geblieben?</p>
  <textarea id="note" placeholder="Dein Gedanke zum Tag..."></textarea>
  <button id="saveReflection">Speichern & schlie√üen</button>
</div>

<script>
  const distanceEl=document.getElementById("distance");
  const speedEl=document.getElementById("speed");
  const fillEl=document.getElementById("fill");
  const reflection=document.getElementById("reflection");
  const finalDistance=document.getElementById("finalDistance");
  const PX_PER_METER=10000;
  const todayKey="scrollmeter-"+new Date().toLocaleDateString("de-DE");

  let lastScroll=0,totalScrolled=parseFloat(localStorage.getItem(todayKey))||0,lastTime=Date.now(),speed=0;

  window.addEventListener("scroll",()=>{
    const current=window.scrollY;
    const delta=Math.max(0,current-lastScroll);
    lastScroll=current;
    const now=Date.now();
    const dt=(now-lastTime)/1000;
    lastTime=now;
    speed=delta/dt;
    totalScrolled+=delta;
    const meters=totalScrolled/PX_PER_METER;
    const percent=Math.min((meters/5000)*100,100);
    fillEl.style.width=percent+"%";
    localStorage.setItem(todayKey,totalScrolled);
    distanceEl.textContent=meters.toFixed(2);
    speedEl.textContent=speed.toFixed(0);

    // Reflexionsbildschirm bei 1 km
    if(meters>=1&&!window.reflectionShown){
      window.reflectionShown=true;
      setTimeout(showReflection,500);
    }
  });

  function showReflection(){
    finalDistance.textContent=(totalScrolled/PX_PER_METER).toFixed(2)+" m";
    reflection.style.display="flex";
  }

  document.getElementById("saveReflection").addEventListener("click",()=>{
    const note=document.getElementById("note").value;
    const feel=localStorage.getItem("feel")||"";
    const todayReport={date:new Date().toLocaleDateString("de-DE"),distance:totalScrolled,feel,note};
    localStorage.setItem("scrollReflection",JSON.stringify(todayReport));
    alert("Reflexion gespeichert. Morgen geht's weiter bewusster üå±");
    reflection.style.display="none";
  });

  document.querySelectorAll(".feelings button").forEach(btn=>{
    btn.addEventListener("click",()=>{
      localStorage.setItem("feel",btn.dataset.feel);
      document.querySelectorAll(".feelings button").forEach(b=>b.style.background="rgba(255,255,255,0.1)");
      btn.style.background="#ff007a";
    });
  });

  // Fake-Feed
  const feed=document.getElementById("feed");
  const texts=[
    "Warum wir scrollen, obwohl wir m√ºde sind.",
    "10 Tricks, wie du Social-Media-M√ºdigkeit erkennst.",
    "Katzenvideo des Tages ‚Äì einfach zum L√§cheln!",
    "Mentale Gesundheit braucht Medienbewusstsein.",
    "Wie Worte wirken: kleine √Ñnderungen, gro√üe Effekte.",
    "Ein Blick in die Zukunft des digitalen Wohlbefindens.",
    "Wenn Algorithmen deine Aufmerksamkeit wollen ‚Äì und du Nein sagst.",
    "Was dein Handy √ºber dein Mindset verr√§t.",
    "Die Evolution des Scrollens ‚Äì von Zeitung zu TikTok.",
    "Eine Minute Achtsamkeit statt 100 Meter Scroll."
  ];
  for(let i=0;i<25;i++){
    const c=document.createElement("div");
    c.className="card";
    const img=document.createElement("img");
    img.src=`https://picsum.photos/seed/${i}/600/400`;
    const cont=document.createElement("div");
    cont.className="content";
    const h=document.createElement("h3");
    h.textContent=texts[i%texts.length];
    const p=document.createElement("p");
    p.textContent="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer gravida neque nec ultricies tempor.";
    const s=document.createElement("div");
    s.className="stats";
    s.textContent="‚ù§Ô∏è "+Math.floor(Math.random()*900+100)+" Likes‚ÄÉüí¨ "+Math.floor(Math.random()*90+10)+" Kommentare";
    cont.appendChild(h);cont.appendChild(p);cont.appendChild(s);
    c.appendChild(img);c.appendChild(cont);
    feed.appendChild(c);
  }
</script>
</body>
</html>

